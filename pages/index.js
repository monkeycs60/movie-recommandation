import Head from 'next/head';
import {  QueryClient, useQuery } from '@tanstack/react-query';
import { getCatFact } from './api/catCall';
import { Suspense, lazy, useState } from 'react';
// import FilmTitles from '@/components/FilmTitles';

const FilmTitles= lazy(() => import('../components/FilmTitles'));
export default function Home() {
	const [showFilmTitles, setShowFilmTitles] = useState(false);
	return (
		<>
			<Head>
				<title>On mate quoi ?</title>
				<meta name="description" content="Generated by create next app" />
				<meta name="viewport" content="width=device-width, initial-scale=1" />
				<link rel="icon" href="/favicon.ico" />
			</Head>
			<main>
				<h1 className="m-8 flex h-24 border-2 border-red-600  bg-primary p-3 lg:m-4 lg:p-4">
          Welcome to another <a href="https://nextjs.org">Next.js!</a>
				</h1>

				  <button onClick={() => setShowFilmTitles(!showFilmTitles)}>Show Film Titles</button>
         
				   {showFilmTitles && (
					<Suspense fallback={<div>Loading...SUSPENSEEEEE</div>}>
						<FilmTitles />
					</Suspense>
				)}

				<p className="bg-orange-600 text-2xl text-red-900">Lorem ipsum dolor sit amet consectetur, adipisicing elit. Itaque distinctio, quos temporibus quas repellat voluptate consequuntur laboriosam facere consectetur laudantium?</p>
			</main>
		</>
	);
}
